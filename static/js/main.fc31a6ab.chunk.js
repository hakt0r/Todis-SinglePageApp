(this.webpackJsonptodis=this.webpackJsonptodis||[]).push([[0],{38:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),s=n(20),i=n.n(s),o=n(4),j=n(8),d=n(40),l=n(41),b=n(42),u=n(43);function O(t){var e=Object(r.useState)(""),n=Object(j.a)(e,2),a=n[0],s=n[1];return Object(c.jsx)("tr",{children:Object(c.jsx)("th",{colspan:4,children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)(b.a,{value:a,onChange:function(t){return s(t.target.value)}}),Object(c.jsx)(l.a.Append,{children:Object(c.jsx)(u.a,{onClick:function(){t.addTodo(a),s("")},children:"Add"})})]})})})}var h=n(13),x=n.n(h),f=n(14),v=function(t,e){return localStorage.setItem(t,JSON.stringify(e))},g={1:"Pending",2:"In Progress",3:"Done"},p={list:[{content:"Test",status:1,date:Date.now()}]};localStorage.getItem("todis-store")||v("todis-store",p);var S,T=(S="todis-store",JSON.parse(localStorage.getItem(S)));function k(t){var e=t.children,n=Object(r.useState)(T),s=Object(j.a)(n,2),i=s[0],d=s[1];Object(r.useEffect)((function(){return v("todis-store",i)}),[i]);var l=function(t,e){return function(n){var c=Object(o.a)({},t),r={content:n,date:Date.now(),status:1};c.list=[].concat(Object(f.a)(t.list),[r]),e(c)}}(i,d),b=function(t,e){return function(n,c){var r=Object(o.a)({},t),a=t.list.findIndex((function(t){return t.date===n}));if(-1!==a){var s=t.list[a],i=Object(o.a)(Object(o.a)({},s),{},{content:c});r.list=Object(f.a)(t.list),r.list[a]=i,e(r)}}}(i,d),u=function(t,e){return function(n){var c=Object(o.a)({},t);c.list=t.list.filter((function(t){return t.date!==n})),e(c)}}(i,d),O=function(t,e){return function(n){var c=Object(o.a)({},t),r=t.list.findIndex((function(t){return t.date===n}));if(-1!==r){var a,s=t.list[r];switch(s.status){case 1:a=2;break;case 2:a=3;break;case 3:a=1;break;default:a=1}var i=Object(o.a)(Object(o.a)({},s),{},{status:a});c.list=Object(f.a)(t.list),c.list[r]=i,e(c)}}}(i,d),h=a.a.cloneElement(e,{state:i,addTodo:l,changeTodo:b,deleteTodo:u,toggleTodo:O});return Object(c.jsx)("div",{id:"store",children:h})}var m=n(39);function C(t){var e=t.todo,n=Object(r.useState)(e.content),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:x()(e.date).fromNow()}),Object(c.jsx)("td",{children:Object(c.jsx)(b.a,{value:s,onChange:function(t){return i(t.target.value)}})}),Object(c.jsx)("td",{children:g[e.status]}),Object(c.jsx)("td",{children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(u.a,{onClick:function(){t.changeTodo(e.date,s),t.setEdit(!1)},children:"Save"}),Object(c.jsx)(u.a,{onClick:function(){t.setEdit(!1)},variant:"danger",children:"Cancel"})]})})]})}function w(t){var e=Object(r.useState)(!1),n=Object(j.a)(e,2),a=n[0],s=n[1],i=t.todo;return a?Object(c.jsx)(C,Object(o.a)(Object(o.a)({},t),{},{setEdit:s})):Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:x()(i.date).fromNow()}),Object(c.jsx)("td",{children:i.content}),Object(c.jsx)("td",{children:Object(c.jsx)(u.a,{onClick:function(e){return t.toggleTodo(i.date)},children:g[i.status]})}),Object(c.jsx)("td",{children:Object(c.jsxs)(m.a,{children:[Object(c.jsx)(u.a,{onClick:function(t){return s(!0)},children:"Edit"}),Object(c.jsx)(u.a,{variant:"danger",onClick:function(e){return t.deleteTodo(i.date)},children:"Delete"})]})})]})}function E(t){var e=Object(r.useState)(""),n=Object(j.a)(e,2),a=(n[0],n[1],t.state);return Object(c.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)(O,Object(o.a)({},t)),Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Description"}),Object(c.jsx)("th",{children:"Status"}),Object(c.jsx)("th",{children:"Actions"})]})]}),Object(c.jsx)("tbody",{children:a.list.map((function(e){return Object(c.jsx)(w,Object(o.a)(Object(o.a)({},t),{},{todo:e}))}))})]})}n.p;var I=function(t){return t.addTodo,t.changeTodo,t.deleteTodo,t.toggleTodo,t.state,Object(c.jsx)(E,Object(o.a)({},t))},D=n(22);n(34);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(D.a,{children:Object(c.jsx)(k,{children:Object(c.jsx)(I,{})})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.fc31a6ab.chunk.js.map